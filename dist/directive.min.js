/*!
 * ng-promise-status
 * 
 * Version: 0.1.2 - 2015-05-29T19:47:22.016Z
 * License: MIT
 */
!function(s){"use strict";s.module("ngPromiseStatus",[]).directive("statusButton",["$timeout","$q",function(e,n){return{restrict:"AE",templateUrl:"directive.html",replace:!0,transclude:!0,scope:{promise:"=",options:"="},link:function(t,o,c,i,r){function a(s){var e;$("inprogress",t.$config.progress_class,!1,void 0),e=s.propertyIsEnumerable("promise")?s.promise:s,e=e instanceof Array?e:[e],n.all(e).then(l,u,f)}function l(s){$("success",t.$config.success_class,!0,t.promise instanceof Array?s:s[0])}function u(s){$("error",t.$config.error_class,!0,s)}function f(s){t.$value=s}function $(s,n,o,c){t.$status=s,t.$class=n,t.$done=o,t.$value=c,t.$config.delay>0&&o&&e(function(){t.$status="idle",t.$class=t.$config.idle_class},t.$config.delay)}t.$config={success_class:"success",error_class:"error",progress_class:"inprogress",idle_class:"idle",progress_disable:!0,delay:0},s.extend(t.$config,t.options),t.$status="idle",t.$class=t.$config.idle_class,t.statusButtonClick=function(s){e(function(){a(t.promise)})},r(t,function(s){o.append(s)})}}}]).directive("statusBar",["$timeout","$q",function(e,n){return{restrict:"AE",transclude:!0,replace:!0,template:'<div class="status-bar" ng-class="$class"></div>',scope:{promise:"=",options:"="},link:function(t,o,c,i,r){function a(s){var e;$("inprogress",t.$config.progress_class,!1,void 0),e=s.propertyIsEnumerable("promise")?s.promise:s,e=e instanceof Array?e:[e],n.all(e).then(l,u,f)}function l(s){$("success",t.$config.success_class,!0,t.promise instanceof Array?s:s[0])}function u(s){$("error",t.$config.error_class,!0,s)}function f(s){t.$value=s}function $(s,n,o,c){t.$status=s,t.$class=n,t.$done=o,t.$value=c,t.$config.delay>0&&o&&e(function(){t.$status="idle",t.$class=t.$config.idle_class},t.$config.delay)}if(t.$config={success_class:"success",error_class:"error",progress_class:"inprogress",idle_class:"idle",delay:0,watch:!0},s.extend(t.$config,t.options),t.$status="idle",t.$class=t.$config.idle_class,t.$config.watch){var d=t.$watch("promise",function(s){s&&e(function(){a(s)})});t.$on("$destroy",function(){d()})}t.$on("promise:status",function(){e(function(){a(t.promise)})}),r(t,function(s){o.append(s)})}}}]),s.module("ngPromiseStatus").run(["$templateCache",function(s){s.put("directive.html",'<button class="status-button" ng-click="; statusButtonClick($event)" ng-class="$class" ng-disabled="$config.progress_disable && $status === \'inprogress\'"></button>')}])}("undefined"!=typeof exports||"undefined"!=typeof module&&module.exports?require("angular"):angular);