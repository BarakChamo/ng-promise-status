/*!
 * ng-promise-status
 * 
 * Version: 0.0.1 - 2015-04-21T16:40:47.639Z
 * License: MIT
 */
"use strict";angular.module("ngPromiseStatus",[]).directive("statusButton",["$timeout","$q",function(s,t){return{restrict:"AE",templateUrl:"directive.html",replace:!0,transclude:!0,scope:{promise:"=",options:"="},link:function(o,e,n,c,r){function a(s){console.log("SET PROMISE");var e;o.$status="inprogress",o.$class=o.$config.progress_class,o.$success=!1,o.$done=!1,o.$value=void 0,e=s.propertyIsEnumerable("promise")?s.promise:s,e=e instanceof Array?e:[e],t.all(e).then(i,u,l)}function i(s){o.$status="success",o.$class=o.$config.success_class,o.$success=!0,o.$done=!0,o.$value=o.promise instanceof Array?s:s[0],console.log(s)}function u(s){o.$status="error",o.$class=o.$config.error_class,o.$success=!1,o.$done=!0,o.$value=s,console.log(s)}function l(s){o.$value=s}o.$config={success_class:o.options&&o.options.success_class||"success",error_class:o.options&&o.options.error_class||"error",progress_class:o.options&&o.options.progress_class||"inprogress",progress_disable:o.options&&o.options.progress_disable||!0},o.$status="prestine",o.$class="",o.statusButtonClick=function(t){s(function(){a(o.promise)})},r(o,function(s){e.append(s)})}}}]),angular.module("ngPromiseStatus").run(["$templateCache",function(s){s.put("directive.html",'<button class="status-button" ng-click="; statusButtonClick($event)" ng-class="$class" ng-disabled="$config.progress_disable && $status === \'inprogress\'"><span class="status">status</span></button>')}]);