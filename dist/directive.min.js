/*!
 * ng-promise-status
 * 
 * Version: 0.1.1 - 2015-05-07T10:40:47.345Z
 * License: MIT
 */
"use strict";angular.module("ngPromiseStatus",[]).directive("statusButton",["$timeout","$q",function(s,n){return{restrict:"AE",templateUrl:"directive.html",replace:!0,transclude:!0,scope:{promise:"=",options:"="},link:function(e,c,t,o,i){function r(s){var c;f("inprogress",e.$config.progress_class,!1,void 0),c=s.propertyIsEnumerable("promise")?s.promise:s,c=c instanceof Array?c:[c],n.all(c).then(a,l,u)}function a(s){f("success",e.$config.success_class,!0,e.promise instanceof Array?s:s[0])}function l(s){f("error",e.$config.error_class,!0,s)}function u(s){e.$value=s}function f(n,c,t,o){e.$status=n,e.$class=c,e.$done=t,e.$value=o,e.$config.delay>0&&t&&s(function(){e.$status="idle",e.$class=e.$config.idle_class},e.$config.delay)}e.$config={success_class:"success",error_class:"error",progress_class:"inprogress",idle_class:"idle",progress_disable:!0,delay:0},angular.extend(e.$config,e.options),e.$status="idle",e.$class=e.$config.idle_class,e.statusButtonClick=function(n){s(function(){r(e.promise)})},i(e,function(s){c.append(s)})}}}]).directive("statusBar",["$timeout","$q",function(s,n){return{restrict:"AE",transclude:!0,replace:!0,template:'<div class="status-bar" ng-class="$class"></div>',scope:{promise:"=",options:"="},link:function(e,c,t,o,i){function r(s){var c;f("inprogress",e.$config.progress_class,!1,void 0),c=s.propertyIsEnumerable("promise")?s.promise:s,c=c instanceof Array?c:[c],n.all(c).then(a,l,u)}function a(s){f("success",e.$config.success_class,!0,e.promise instanceof Array?s:s[0])}function l(s){f("error",e.$config.error_class,!0,s)}function u(s){e.$value=s}function f(n,c,t,o){e.$status=n,e.$class=c,e.$done=t,e.$value=o,e.$config.delay>0&&t&&s(function(){e.$status="idle",e.$class=e.$config.idle_class},e.$config.delay)}if(e.$config={success_class:"success",error_class:"error",progress_class:"inprogress",idle_class:"idle",delay:0,watch:!0},angular.extend(e.$config,e.options),e.$status="idle",e.$class=e.$config.idle_class,e.$config.watch){var $=e.$watch("promise",function(n){n&&s(function(){r(n)})});e.$on("$destroy",function(){$()})}e.$on("promise:status",function(){s(function(){r(e.promise)})}),i(e,function(s){c.append(s)})}}}]),angular.module("ngPromiseStatus").run(["$templateCache",function(s){s.put("directive.html",'<button class="status-button" ng-click="; statusButtonClick($event)" ng-class="$class" ng-disabled="$config.progress_disable && $status === \'inprogress\'"></button>')}]);